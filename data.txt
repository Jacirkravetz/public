// Exemplo de uso do FixSessionManager com a interface IFixSessionManager

string fixConfig = @"
[DEFAULT]
ConnectionType=initiator
ReconnectInterval=5
SenderCompID=CLIENT
TargetCompID=SERVER
BeginString=FIX.4.2
SocketConnectHost=127.0.0.1
SocketConnectPort=5001
StartTime=00:00:00
EndTime=23:59:59
HeartBtInt=30
FileLogPath=log
UseDataDictionary=Y

[SESSION]
SessionQualifier=DEFAULT
";

string base64Dictionary = "PHh... (seu XML Base64) ...PC94"; // Seu XML codificado em Base64

// Implementações obrigatórias para a aplicação FIX
IApplication app = new MyFixApplication();
IMessageStoreFactory storeFactory = new FileStoreFactory(new SessionSettings()); // ou outro StoreFactory
ILogFactory logFactory = new FileLogFactory(new SessionSettings());

// Instanciar a interface via implementação concreta
IFixSessionManager manager = new FixSessionManager();

// Criar o SocketInitiator configurado
SocketInitiator initiator = manager.CreateInitiator(fixConfig, base64Dictionary, app, storeFactory, logFactory);

// Iniciar a sessão FIX
initiator.Start();

try
{
    // Aqui seu código que interage com o FIX
    Console.WriteLine("Sessão FIX iniciada. Pressione ENTER para encerrar...");
    Console.ReadLine();
}
finally
{
    // Parar a sessão e liberar recursos
    initiator.Stop();
    manager.Cleanup();
}
